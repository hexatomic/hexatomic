{"version":1,"ops":[{"type":3,"author":{"id":"c08f33d948212201bfc91ffde88d0299f7b61986"},"timestamp":1591205170,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDYzODM0MTA4MA==","github-url":"https://github.com/hexatomic/hexatomic/issues/127#issuecomment-638341080"},"message":"I still have this issue.","files":null},{"type":3,"author":{"id":"7fc094c5f01526c965e541ec82007c487f6fa288"},"timestamp":1591255051,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDYzODY1MzgwOA==","github-url":"https://github.com/hexatomic/hexatomic/issues/127#issuecomment-638653808"},"message":"@costezki Thanks for your heads up, do you run this on the latest `develop`?","files":null},{"type":3,"author":{"id":"c08f33d948212201bfc91ffde88d0299f7b61986"},"timestamp":1591255354,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDYzODY1NjIwMA==","github-url":"https://github.com/hexatomic/hexatomic/issues/127#issuecomment-638656200"},"message":"yes, the commit humber is 308b80f449c2955ff5e9083777a6135e9e50f39e (from 29th of May)","files":null},{"type":6,"author":{"id":"c08f33d948212201bfc91ffde88d0299f7b61986"},"timestamp":1591255354,"metadata":{"github-id":"MDE1OlVzZXJDb250ZW50RWRpdElzc3VlQ29tbWVudEVkaXQ6Mzc2Njg1MzQy"},"target":"da17aa663ef5448da285271f5ba08e8f2dfa8f47775703a714fa0398e7caf0f0","message":"yes, the commit humber is 308b80f449c2955ff5e9083777a6135e9e50f39e (from 29th of May) on origin/develop","files":null},{"type":3,"author":{"id":"7fc094c5f01526c965e541ec82007c487f6fa288"},"timestamp":1591255568,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDYzODY1ODU2Mw==","github-url":"https://github.com/hexatomic/hexatomic/issues/127#issuecomment-638658563"},"message":"Thanks, we'll investigate.\n\nCan you give us details about the Eclipse you're running, and the OS + Java details please?","files":null},{"type":4,"author":{"id":"7fc094c5f01526c965e541ec82007c487f6fa288"},"timestamp":1591255569,"metadata":{"github-id":"MDEzOlJlb3BlbmVkRXZlbnQzNDA1NDU5NTc2"},"status":1},{"type":3,"author":{"id":"7fc094c5f01526c965e541ec82007c487f6fa288"},"timestamp":1591255830,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDYzODY2MTA0OQ==","github-url":"https://github.com/hexatomic/hexatomic/issues/127#issuecomment-638661049"},"message":"Please also provide the stack trace. Do the tests run from within Eclipse?","files":null},{"type":3,"author":{"id":"c08f33d948212201bfc91ffde88d0299f7b61986"},"timestamp":1591257278,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDYzODY3NTQ4Nw==","github-url":"https://github.com/hexatomic/hexatomic/issues/127#issuecomment-638675487"},"message":"In bash I run \n```\nmvn clean install\n```\n\nJVM: \nopenjdk version \"1.8.0_252\"\nOpenJDK Runtime Environment (build 1.8.0_252-8u252-b09-1ubuntu1-b09)\nOpenJDK 64-Bit Server VM (build 25.252-b09, mixed mode)\n\nMaven:\nApache Maven 3.6.3\nMaven home: /usr/share/maven\nJava version: 1.8.0_252, vendor: Private Build, runtime: /usr/lib/jvm/java-8-openjdk-amd64/jre\nDefault locale: en_GB, platform encoding: UTF-8\nOS name: \"linux\", version: \"5.4.0-33-generic\", arch: \"amd64\", family: \"unix\"\n\n[stack-trace.log](https://github.com/hexatomic/hexatomic/files/4728389/stack-trace.log)\n\nNote: The process comes to a successful termination if I skip tests.","files":null},{"type":3,"author":{"id":"7fc094c5f01526c965e541ec82007c487f6fa288"},"timestamp":1591258701,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDYzODY4OTM1Ng==","github-url":"https://github.com/hexatomic/hexatomic/issues/127#issuecomment-638689356"},"message":"Thanks, seems as if the SWTBot tests miss some dependencies/locales. We'll look into it.","files":null},{"type":3,"author":{"id":"7fc094c5f01526c965e541ec82007c487f6fa288"},"timestamp":1591287499,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDYzODk1NzQ2NA==","github-url":"https://github.com/hexatomic/hexatomic/issues/127#issuecomment-638957464"},"message":"Right, I can reproduce the issue on Ubuntu with the following `locale` settings:\n\n```\nLANG=en_GB.UTF-8\nLANGUAGE=en_GB:en\nLC_CTYPE=\"en_GB.UTF-8\"\nLC_NUMERIC=de_DE.UTF-8\nLC_TIME=de_DE.UTF-8\nLC_COLLATE=\"en_GB.UTF-8\"\nLC_MONETARY=de_DE.UTF-8\nLC_MESSAGES=\"en_GB.UTF-8\"\nLC_PAPER=de_DE.UTF-8\nLC_NAME=de_DE.UTF-8\nLC_ADDRESS=de_DE.UTF-8\nLC_TELEPHONE=de_DE.UTF-8\nLC_MEASUREMENT=de_DE.UTF-8\nLC_IDENTIFICATION=de_DE.UTF-8\nLC_ALL=\n```\n\nCaused by:\n\n```log\njava.lang.ExceptionInInitializerError\n\tat org.corpus_tools.hexatomic.it.tests.TestCorpusStructure.createExampleStructure(TestCorpusStructure.java:90)\n\tat org.corpus_tools.hexatomic.it.tests.TestCorpusStructure.testRenameDocument(TestCorpusStructure.java:103)\nCaused by: java.lang.IllegalArgumentException: EN_GB.keyboard not found, see http://wiki.eclipse.org/SWTBot/Keyboard_Layouts for more information.\n\tat org.corpus_tools.hexatomic.it.tests.TestCorpusStructure.createExampleStructure(TestCorpusStructure.java:90)\n\tat org.corpus_tools.hexatomic.it.tests.TestCorpusStructure.testRenameDocument(TestCorpusStructure.java:103)\n```","files":null},{"type":6,"author":{"id":"7fc094c5f01526c965e541ec82007c487f6fa288"},"timestamp":1591287499,"metadata":{"github-id":"MDE1OlVzZXJDb250ZW50RWRpdElzc3VlQ29tbWVudEVkaXQ6Mzc2ODE3MDU5"},"target":"2d53ae87a8da80c95a71eaa4025f7185c920e635212c4c6b2c56faa75ca42adf","message":"Right, I can reproduce the issue on Ubuntu with the following `locale` settings:\n\n```\nLANG=en_GB.UTF-8\nLANGUAGE=en_GB:en\nLC_CTYPE=\"en_GB.UTF-8\"\nLC_NUMERIC=de_DE.UTF-8\nLC_TIME=de_DE.UTF-8\nLC_COLLATE=\"en_GB.UTF-8\"\nLC_MONETARY=de_DE.UTF-8\nLC_MESSAGES=\"en_GB.UTF-8\"\nLC_PAPER=de_DE.UTF-8\nLC_NAME=de_DE.UTF-8\nLC_ADDRESS=de_DE.UTF-8\nLC_TELEPHONE=de_DE.UTF-8\nLC_MEASUREMENT=de_DE.UTF-8\nLC_IDENTIFICATION=de_DE.UTF-8\nLC_ALL=\n```\n\nCaused by:\n\n```log\njava.lang.ExceptionInInitializerError\n\tat org.corpus_tools.hexatomic.it.tests.TestCorpusStructure.createExampleStructure(TestCorpusStructure.java:90)\n\tat org.corpus_tools.hexatomic.it.tests.TestCorpusStructure.testRenameDocument(TestCorpusStructure.java:103)\nCaused by: java.lang.IllegalArgumentException: EN_GB.keyboard not found, see http://wiki.eclipse.org/SWTBot/Keyboard_Layouts for more information.\n\tat org.corpus_tools.hexatomic.it.tests.TestCorpusStructure.createExampleStructure(TestCorpusStructure.java:90)\n\tat org.corpus_tools.hexatomic.it.tests.TestCorpusStructure.testRenameDocument(TestCorpusStructure.java:103)\n```\n\nSetting `LANG=en_US.UTF-8` fixes this. This can also be set in the SWTBot tests themselves via setting `org.eclipse.swtbot.swt.finder.utils.SWTBotPreferences.KEYBOARD_LAYOUT = \"EN_US\";`, although tests may still fail if `en_US` is not an available language on the operating system.","files":null},{"type":3,"author":{"id":"7fc094c5f01526c965e541ec82007c487f6fa288"},"timestamp":1591287979,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDYzODk2NDM3OA==","github-url":"https://github.com/hexatomic/hexatomic/issues/127#issuecomment-638964378"},"message":"@costezki Please checkout https://github.com/hexatomic/hexatomic/tree/feature/test-keyboard-layout and let me know if that fixes the issue for you. (I think you need to have the `en_US.UTF-8` locale at least generated, so that it is available via `locale -a`).","files":null},{"type":4,"author":{"id":"725ac77188b9c2093ea4100ba878cd5190f5dc34"},"timestamp":1591345673,"metadata":{"github-id":"MDExOkNsb3NlZEV2ZW50MzQxMDI1Mjg1Ng=="},"status":2},{"type":3,"author":{"id":"c08f33d948212201bfc91ffde88d0299f7b61986"},"timestamp":1591349569,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDYzOTM2ODk0OA==","github-url":"https://github.com/hexatomic/hexatomic/issues/127#issuecomment-639368948"},"message":"I could not find the branch https://github.com/hexatomic/hexatomic/tree/feature/test-keyboard-layout and I assumed that it was merged into /develop. \n\nJust ran another mvn clean install, getting this time as an outcome the following exception:\n\n\u003e [INFO] Command line:\n\u003e \t[/usr/lib/jvm/java-8-openjdk-amd64/jre/bin/java, -Dosgi.noShutdown=false, -Dosgi.os=linux, -Dosgi.ws=gtk, -Dosgi.arch=x86_64, -Dosgi.clean=true, -jar, /home/lps/.m2/repository/p2/osgi/bundle/org.eclipse.equinox.launcher/1.5.700.v20200207-2156/org.eclipse.equinox.launcher-1.5.700.v20200207-2156.jar, -data, /home/lps/work/workspace-charm/hexatomic/tests/org.corpus_tools.hexatomic.it.tests/target/work/data, -install, /home/lps/work/workspace-charm/hexatomic/tests/org.corpus_tools.hexatomic.it.tests/target/work, -configuration, /home/lps/work/workspace-charm/hexatomic/tests/org.corpus_tools.hexatomic.it.tests/target/work/configuration, -application, org.eclipse.tycho.surefire.osgibooter.uitest, -testproperties, /home/lps/work/workspace-charm/hexatomic/tests/org.corpus_tools.hexatomic.it.tests/target/surefire.properties, -testApplication, org.eclipse.e4.ui.workbench.swt.E4Application, -product, org.corpus_tools.hexatomic.core.product, -nouithread]\n\u003e Launching application org.eclipse.e4.ui.workbench.swt.E4Application...\n\u003e SLF4J: Failed to load class \"org.slf4j.impl.StaticLoggerBinder\".\n\u003e SLF4J: Defaulting to no-operation (NOP) logger implementation\n\u003e SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\n\u003e Running org.corpus_tools.hexatomic.it.tests.TestCorpusStructure\n\u003e log4j:WARN No appenders could be found for logger (org.eclipse.swtbot.swt.finder.matchers.AbstractMatcher).\n\u003e log4j:WARN Please initialize the log4j system properly.\n\u003e Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.546 s - in org.corpus_tools.hexatomic.it.tests.TestCorpusStructure\n\u003e testRenameDocument  Time elapsed: 0.248 s\n\u003e testFilter  Time elapsed: 0.18 s\n\u003e Running org.corpus_tools.hexatomic.it.tests.TestGraphEditor\n\u003e Tests run: 3, Failures: 0, Errors: 2, Skipped: 0, Time elapsed: 11.23 s \u003c\u003c\u003c FAILURE! - in org.corpus_tools.hexatomic.it.tests.TestGraphEditor\n\u003e testShowSaltExample  Time elapsed: 0.583 s\n\u003e testTokenizeSelectedTextualDS  Time elapsed: 5.607 s  \u003c\u003c\u003c ERROR!\n\u003e org.eclipse.swtbot.swt.finder.widgets.TimeoutException: Timeout after: 5000 ms.: Showing the graph editor part took too long\n\u003e \tat org.corpus_tools.hexatomic.it.tests.TestGraphEditor.openDefaultExample(TestGraphEditor.java:112)\n\u003e \tat org.corpus_tools.hexatomic.it.tests.TestGraphEditor.testTokenizeSelectedTextualDS(TestGraphEditor.java:221)\n\u003e \n\u003e testAddPointingRelation  Time elapsed: 5.038 s  \u003c\u003c\u003c ERROR!\n\u003e org.eclipse.swtbot.swt.finder.exceptions.WidgetNotFoundException: Could not find widget matching: (of type 'Tree')\n\u003e \tat org.corpus_tools.hexatomic.it.tests.TestGraphEditor.openDefaultExample(TestGraphEditor.java:105)\n\u003e \tat org.corpus_tools.hexatomic.it.tests.TestGraphEditor.testAddPointingRelation(TestGraphEditor.java:189)\n\u003e Caused by: org.eclipse.swtbot.swt.finder.widgets.TimeoutException: Timeout after: 5000 ms.: Could not find widget matching: (of type 'Tree')\n\u003e \tat org.corpus_tools.hexatomic.it.tests.TestGraphEditor.openDefaultExample(TestGraphEditor.java:105)\n\u003e \tat org.corpus_tools.hexatomic.it.tests.TestGraphEditor.testAddPointingRelation(TestGraphEditor.java:189)\n\u003e \n\u003e Running org.corpus_tools.hexatomic.it.tests.TestGridEditor\n\u003e Tests run: 18, Failures: 0, Errors: 2, Skipped: 0, Time elapsed: 33.518 s \u003c\u003c\u003c FAILURE! - in org.corpus_tools.hexatomic.it.tests.TestGridEditor\n\u003e testShowSaltExample  Time elapsed: 5.025 s  \u003c\u003c\u003c ERROR!\n\u003e org.eclipse.swtbot.swt.finder.exceptions.WidgetNotFoundException: Could not find widget matching: (of type 'Tree')\n\u003e \tat org.corpus_tools.hexatomic.it.tests.TestGridEditor.openDefaultExample(TestGridEditor.java:164)\n\u003e \tat org.corpus_tools.hexatomic.it.tests.TestGridEditor.testShowSaltExample(TestGridEditor.java:240)\n\u003e Caused by: org.eclipse.swtbot.swt.finder.widgets.TimeoutException: Timeout after: 5000 ms.: Could not find widget matching: (of type 'Tree')\n\u003e \tat org.corpus_tools.hexatomic.it.tests.TestGridEditor.openDefaultExample(TestGridEditor.java:164)\n\u003e \tat org.corpus_tools.hexatomic.it.tests.TestGridEditor.testShowSaltExample(TestGridEditor.java:240)\n\u003e \n\u003e testEditCellTyping  Time elapsed: 5.027 s  \u003c\u003c\u003c ERROR!\n\u003e org.eclipse.swtbot.swt.finder.exceptions.WidgetNotFoundException: Could not find widget matching: (of type 'Tree')\n\u003e \tat org.corpus_tools.hexatomic.it.tests.TestGridEditor.openDefaultExample(TestGridEditor.java:164)\n\u003e \tat org.corpus_tools.hexatomic.it.tests.TestGridEditor.testEditCellTyping(TestGridEditor.java:437)\n\u003e Caused by: org.eclipse.swtbot.swt.finder.widgets.TimeoutException: Timeout after: 5000 ms.: Could not find widget matching: (of type 'Tree')\n\u003e \tat org.corpus_tools.hexatomic.it.tests.TestGridEditor.openDefaultExample(TestGridEditor.java:164)\n\u003e \tat org.corpus_tools.hexatomic.it.tests.TestGridEditor.testEditCellTyping(TestGridEditor.java:437)\n\u003e \n\u003e testDsSelection  Time elapsed: 1.197 s\n\u003e testPopupMenuInvisibleOnNoSelection  Time elapsed: 5.646 s\n\u003e testDropdownWithTwoTexts  Time elapsed: 0.65 s\n\u003e testCreateAnnotationOnEmptySpanCell  Time elapsed: 1.363 s\n\u003e testEditCellSpaceActivatedTyping  Time elapsed: 1.325 s\n\u003e testShowOverlapSaltExample  Time elapsed: 0.587 s\n\u003e testHideShowColumns  Time elapsed: 0.696 s\n\u003e testDropdownWithSingleText  Time elapsed: 0.596 s\n\u003e testPopupMenuInvisibleOnSelectedTokenText  Time elapsed: 5.61 s\n\u003e testRowPopupMenu  Time elapsed: 0.609 s\n\u003e testEditCellOnDoubleClick  Time elapsed: 1.321 s\n\u003e testEmptyCellStyleApplied  Time elapsed: 0.576 s\n\u003e testRemoveSingleAnnotationByDelKey  Time elapsed: 0.683 s\n\u003e testCreateAnnotationOnEmptyTokenCell  Time elapsed: 1.328 s\n\u003e testRemoveSingleAnnotationByPopupMenu  Time elapsed: 0.637 s\n\u003e testColumnPopupMenu  Time elapsed: 0.609 s\n\u003e Running org.corpus_tools.hexatomic.it.tests.TestProjectManager\n\u003e Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.949 s - in org.corpus_tools.hexatomic.it.tests.TestProjectManager\n\u003e testOpenAndSave  Time elapsed: 0.949 s\n\u003e \n\u003e Results:\n\u003e \n\u003e Errors: \n\u003e   TestGraphEditor.testAddPointingRelation:189-\u003eopenDefaultExample:105 » WidgetNotFound\n\u003e   TestGraphEditor.testTokenizeSelectedTextualDS:221-\u003eopenDefaultExample:112 » Timeout\n\u003e   TestGridEditor.testEditCellTyping:437-\u003eopenDefaultExample:164 » WidgetNotFound\n\u003e   TestGridEditor.testShowSaltExample:240-\u003eopenDefaultExample:164 » WidgetNotFound\n\u003e \n\u003e Tests run: 24, Failures: 0, Errors: 4, Skipped: 0\n\u003e \n\u003e [INFO] ------------------------------------------------------------------------\n\u003e [INFO] Reactor Summary for org.corpus_tools.hexatomic.root 0.4.0-SNAPSHOT:\n\u003e [INFO] \n\u003e [INFO] org.corpus_tools.hexatomic.root .................... SUCCESS [  1.696 s]\n\u003e [INFO] org.corpus_tools.hexatomic.bundles ................. SUCCESS [  1.769 s]\n\u003e [INFO] org.corpus_tools.hexatomic.core .................... SUCCESS [  4.016 s]\n\u003e [INFO] org.corpus_tools.hexatomic.corpusstructureeditor ... SUCCESS [  3.103 s]\n\u003e [INFO] org.corpus_tools.hexatomic.textviewer .............. SUCCESS [  2.589 s]\n\u003e [INFO] org.corpus_tools.hexatomic.graph ................... SUCCESS [  5.607 s]\n\u003e [INFO] org.corpus_tools.hexatomic.grid .................... SUCCESS [  3.047 s]\n\u003e [INFO] org.corpus_tools.hexatomic.features ................ SUCCESS [  0.059 s]\n\u003e [INFO] org.corpus_tools.hexatomic ......................... SUCCESS [  0.474 s]\n\u003e [INFO] org.corpus_tools.hexatomic.releng .................. SUCCESS [  0.074 s]\n\u003e [INFO] org.corpus_tools.hexatomic.update .................. SUCCESS [  1.094 s]\n\u003e [INFO] org.corpus_tools.hexatomic.product ................. SUCCESS [ 13.276 s]\n\u003e [INFO] org.corpus_tools.hexatomic.target .................. SUCCESS [  0.121 s]\n\u003e [INFO] org.corpus_tools.hexatomic.tests ................... SUCCESS [  0.081 s]\n\u003e [INFO] org.corpus_tools.hexatomic.core.tests .............. SUCCESS [  3.472 s]\n\u003e [INFO] org.corpus_tools.hexatomic.graph.tests ............. SUCCESS [  2.356 s]\n\u003e [INFO] org.corpus_tools.hexatomic.grid.tests .............. SUCCESS [  3.876 s]\n\u003e [INFO] org.corpus_tools.hexatomic.it.tests ................ FAILURE [ 49.896 s]\n\u003e [INFO] Aggregate Test Report .............................. SKIPPED\n\u003e [INFO] ------------------------------------------------------------------------\n\u003e [INFO] BUILD FAILURE\n\u003e [INFO] ------------------------------------------------------------------------\n\u003e [INFO] Total time:  01:52 min\n\u003e [INFO] Finished at: 2020-06-05T11:28:11+02:00\n\u003e [INFO] ------------------------------------------------------------------------\n\u003e [ERROR] Failed to execute goal org.eclipse.tycho:tycho-surefire-plugin:1.6.0:test (default-test) on project org.corpus_tools.hexatomic.it.tests: There are test failures.\n\u003e [ERROR] \n\u003e [ERROR] Please refer to /home/lps/work/workspace-charm/hexatomic/tests/org.corpus_tools.hexatomic.it.tests/target/surefire-reports for the individual test results.\n\u003e [ERROR] -\u003e [Help 1]\n\u003e [ERROR] \n\u003e [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n\u003e [ERROR] Re-run Maven using the -X switch to enable full debug logging.\n\u003e [ERROR] \n\u003e [ERROR] For more information about the errors and possible solutions, please read the following articles:\n\u003e [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\n\u003e [ERROR] \n\u003e [ERROR] After correcting the problems, you can resume the build with the command\n\u003e [ERROR]   mvn \u003cargs\u003e -rf :org.corpus_tools.hexatomic.it.tests\n\u003e \n\u003e","files":null},{"type":3,"author":{"id":"7fc094c5f01526c965e541ec82007c487f6fa288"},"timestamp":1591599795,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDY0MDQwOTY3Mg==","github-url":"https://github.com/hexatomic/hexatomic/issues/127#issuecomment-640409672"},"message":"Thanks @costezki. Could it be that per chance you have done other work while letting the build run in the background? Clicking anything or typing anything while the UI tests run will trip the tests, we need to document this. If this is the case, could you please try and run again without doing any other work at the same time?\n\nThanks!","files":null},{"type":3,"author":{"id":"c08f33d948212201bfc91ffde88d0299f7b61986"},"timestamp":1591605772,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDY0MDQ1OTY2Nw==","github-url":"https://github.com/hexatomic/hexatomic/issues/127#issuecomment-640459667"},"message":"Yes, indeed the tests pass when I do no other actions on the computer. Thank you.","files":null},{"type":3,"author":{"id":"7fc094c5f01526c965e541ec82007c487f6fa288"},"timestamp":1591606441,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDY0MDQ2NjE5MA==","github-url":"https://github.com/hexatomic/hexatomic/issues/127#issuecomment-640466190"},"message":"Perfect! Thanks for the feedback.","files":null}]}