{"version":1,"ops":[{"type":1,"author":{"id":"7fc094c5f01526c965e541ec82007c487f6fa288"},"timestamp":1580847425,"metadata":{"github-id":"MDU6SXNzdWU1NTk5NTQ5NjE=","github-url":"https://github.com/hexatomic/hexatomic/issues/127","origin":"github"},"title":"Integration test for TestCorpusStructure fails locally","message":"**Describe the bug**\n\nWhen running `mvn clean install` on https://github.com/hexatomic/hexatomic/pull/117, the build fails.\n\n**To reproduce the bug**\nSteps to reproduce the behavior:\n1. `git checkout feature/zest-graph-view`\n2. `git pull`\n3. `mvn clean install`\n4. Build fails with stack trace:\n\n```\nRunning org.corpus_tools.hexatomic.it.tests.TestGraphEditor\nlog4j:WARN No appenders could be found for logger (org.eclipse.swtbot.swt.finder.matchers.AbstractMatcher).\nlog4j:WARN Please initialize the log4j system properly.\n*** BUG ***\nIn pixman_region32_init_rect: Invalid rectangle passed\nSet a breakpoint on '_pixman_log_error' to debug\n\n*** BUG ***\nIn pixman_region32_init_rect: Invalid rectangle passed\nSet a breakpoint on '_pixman_log_error' to debug\n\n\n(org.corpus_tools.hexatomic:26489): Gtk-CRITICAL **: 21:07:47.690: gtk_widget_get_preferred_width_for_height: assertion 'height \u003e= 0' failed\n\n(org.corpus_tools.hexatomic:26489): Gtk-WARNING **: 21:07:47.690: gtk_widget_size_allocate(): attempt to allocate widget with width 12 and height -13\n\n(org.corpus_tools.hexatomic:26489): Gtk-CRITICAL **: 21:07:47.690: gtk_box_gadget_distribute: assertion 'size \u003e= 0' failed in GtkScrollbar\n*** BUG ***\nIn pixman_region32_init_rect: Invalid rectangle passed\nSet a breakpoint on '_pixman_log_error' to debug\n\n*** BUG ***\nIn pixman_region32_init_rect: Invalid rectangle passed\nSet a breakpoint on '_pixman_log_error' to debug\n\n*** BUG ***\nIn pixman_region32_init_rect: Invalid rectangle passed\nSet a breakpoint on '_pixman_log_error' to debug\n\n*** BUG ***\nIn pixman_region32_init_rect: Invalid rectangle passed\nSet a breakpoint on '_pixman_log_error' to debug\n\nTests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.532 s - in org.corpus_tools.hexatomic.it.tests.TestGraphEditor\ntestShowSaltExample  Time elapsed: 0.422 s\nRunning org.corpus_tools.hexatomic.it.tests.TestCorpusStructure\nTests run: 2, Failures: 0, Errors: 2, Skipped: 0, Time elapsed: 10.294 s \u003c\u003c\u003c FAILURE! - in org.corpus_tools.hexatomic.it.tests.TestCorpusStructure\ntestRenameDocument  Time elapsed: 5.273 s  \u003c\u003c\u003c ERROR!\norg.eclipse.swtbot.swt.finder.exceptions.WidgetNotFoundException: Timed out waiting for tree item corpus_graph_1\n\tat org.corpus_tools.hexatomic.it.tests.TestCorpusStructure.testRenameDocument(TestCorpusStructure.java:34)\nCaused by: org.eclipse.swtbot.swt.finder.widgets.TimeoutException: Timeout after: 5000 ms.: Could not find node with text corpus_graph_1\n\tat org.corpus_tools.hexatomic.it.tests.TestCorpusStructure.testRenameDocument(TestCorpusStructure.java:34)\n\ntestFilter  Time elapsed: 5.018 s  \u003c\u003c\u003c ERROR!\norg.eclipse.swtbot.swt.finder.exceptions.WidgetNotFoundException: Could not find widget matching: (of type 'Tree')\n\tat org.corpus_tools.hexatomic.it.tests.TestCorpusStructure.testFilter(TestCorpusStructure.java:72)\nCaused by: org.eclipse.swtbot.swt.finder.widgets.TimeoutException: Timeout after: 5000 ms.: Could not find widget matching: (of type 'Tree')\n\tat org.corpus_tools.hexatomic.it.tests.TestCorpusStructure.testFilter(TestCorpusStructure.java:72)\n\n\nResults:\n\nErrors: \n  TestCorpusStructure.testFilter:72 » WidgetNotFound Could not find widget match...\n  TestCorpusStructure.testRenameDocument:34 » WidgetNotFound Timed out waiting f...\n\nTests run: 3, Failures: 0, Errors: 2, Skipped: 0\n\n```\n\n**Expected behavior**\n\nIntegration tests pass locally.\n\n**Screenshots**\n\n![image](https://user-images.githubusercontent.com/3007126/73782698-d1455280-4792-11ea-9573-05063af3ff1c.png)\n\n\n**Desktop (please complete the following information):**\n - Operating System: Ubuntu 18.04\n - Hexatomic Version: https://github.com/hexatomic/hexatomic/pull/117\n - Java Version: OpenJDK 8","files":null}]}